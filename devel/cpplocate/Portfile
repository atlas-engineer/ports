# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.0
PortGroup           cxx11 1.0
PortGroup           github 1.0

github.setup        cginternals cpplocate 7ba162fce3615fad03037eef05ff29d5bc430e26
version             20161110

categories          devel
platforms           darwin
maintainers         gmail.com:ken.cunningham.webuse openmaintainer
license             MIT

description         Cross-platform C++ library providing tools for applications to locate \
                    themselves, their data assets as well as dependant modules.
long_description    ${description}

checksums           rmd160  d2b83fb64e2a612dab25f6a49287452899151d78 \
                    sha256  8a1c6cd485ccedcec19b465a32c671924a1975a782f557446a5f049163f70b89
                    
# macports prefers the shared library option
configure.args-append -DBUILD_SHARED_LIBS:BOOL=ON

cmake.out_of_source yes

# one patch to override folder layout logic to match macports
patchfiles-append   patch-cpplocate-cmake-installdirs.diff

variant docs description "install documentation" {
    configure.args-append   -DOPTION_BUILD_DOCS:BOOL=ON
    depends_build-append    port:doxygen
}
