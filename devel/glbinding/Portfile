# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.0
PortGroup           cxx11 1.0
name                glbinding
version             2.1.1
categories          devel
platforms           darwin
maintainers         gmail.com:ken.cunningham.webuse openmaintainer
license             MIT

description         glbinding is an MIT licensed, cross-platform C++ binding for the OpenGL API
long_description    glbinding leverages modern C++11 features like enum classes, lambdas, and \
                    variadic templates, instead of relying on macros. All OpenGL symbols are \
                    real functions and variables. It provides type-safe parameters, per feature \
                    API header, lazy function resolution, multi-context and multi-thread support, \
                    global and local function callbacks, meta information about the generated OpenGL \
                    binding and the OpenGL runtime, as well as tools and examples for quick-starting \
                    your projects. Based on the OpenGL API specification (gl.xml) glbinding is \
                    generated using python scripts and templates that can be easily adapted to fit custom needs.

homepage            https://www.cginternals.com/
master_sites        https://github.com/cginternals/glbinding/archive/
distfiles           v${version}${extract.suffix}
checksums           rmd160  8f0cd849ea78c6461d6157c52160942f10cd279d \
                    sha256  253671f2b730a6efa55de92a704938bb0f1761d151f3f8e87c043c51d46ea1e4
                    
pre-fetch {
	if {${os.platform} eq "darwin" && ${os.major} < 13} {
		ui_error "Presently requires MacOSX 10.9 or later (requires Thread-Local Storage)"
		error Incompatible_OS_Version
	}
}

depends_build       port:cmake \
                    port:py-pystache
                    
depends_lib         port:glew \
                    port:glfw
                    
                    
cmake.out_of_source yes
patchfiles-append patch-glbinding-cmake-installdirs.diff

variant docs description "install documentation" {
    configure.args-append "-DOPTION_BUILD_DOCS:BOOL=ON"
    depends_build-append port:doxygen
}